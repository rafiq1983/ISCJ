@page
@model RegistrationApplicationsModel
@{
    ViewData["Title"] = "Enrollments";
    Layout = "~/Pages/Shared/_LayoutModern.cshtml";
}
<form method="post">
    <div class="row wrapper border-bottom white-bg page-heading">
        <div class="col-lg-9">
            <h2>Registration Applications</h2>
            <ol class="breadcrumb">
                <li class="breadcrumb-item">
                    <a href="@Url.Action("Dashboard_1", "Dashboards")">Home</a>
                </li>
                <li class="breadcrumb-item">
                   Enrollments
                </li>
                <li class="active breadcrumb-item">
                    <strong>Registration Applications</strong>
                </li>
            </ol>
        </div>
    </div>
    <div class="ibox-content">
    <table class="table">
        <tr>

            <th>Application Date</th>
            <th>Father Name</th>
            <th>Mother Name</th>
            <th>Enrollments</th>
            <th>Invoice</th>
          
        </tr>
        <tbody>
        @for (var i = 0; i < Model.Registrations.Count; i++)
        {
            <tr>
                <input type="hidden" asp-for="@Model.Registrations[i].ApplicationId" value="@Model.Registrations[i].ApplicationId" />
                
                <td>@Model.ShowDateTimeInEST(@Model.Registrations[i].ApplicationDate)</td>
                <td><a href="#">@Model.Registrations[i].FatherContactInfo?.FirstName  @Model.Registrations[i].FatherContactInfo?.LastName</a></td>
                <td><a href="#">@Model.Registrations[i].MotherContactInfo?.FirstName @Model.Registrations[i].MotherContactInfo?.LastName</a></td>
                <td><a href="@Url.Page("Enrollments", new {regAppId=Model.Registrations[i].ApplicationId})">Enrollments</a></td>
               
                <td>
                    <a href="#">View Invoice - TODO</a>
                </td>

            </tr>
        }
        </tbody>
    </table>
    </div>
    <input type="button" id="btnAddNew" name="btnAction" class="btn-sm btn-success" value="Add New" onclick="window.location = 'RegisterStudent2'" />

</form>

@section scripts
{
<script language="javascript">
  $(document).ready(function () {
    Startup();
  });

  function Startup() {
    var ctlId = "#ProgramId";//todo: isa: need to generate like we do in asp-for.
    $(ctlId).change(function (x) {
     
      $("form").submit();
    });
  }
  
</script>

}
